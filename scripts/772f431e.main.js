!function(a){"use strict";var b=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}(),c=function(a,b){Object.keys(b).forEach(function(c){a.style[c]=b[c]})},d=["http://i.imgur.com/cPsUm9U.jpg","http://i.imgur.com/tZnIuhd.jpg","http://i.imgur.com/eoSCkZm.jpg","http://i.imgur.com/wq81DIh.jpg","http://i.imgur.com/zaJiSoT.jpg"],e={maxWidth:"100%",transform:"translateZ(0)",webkitTransform:"translateZ(0)"},f={height:"340px",width:"100%",maxWidth:"600px",overflow:"hidden",whiteSpace:"nowrap"},g=b?"touchstart":"mousedown",h=b?"touchend":"mouseup",i=b?"touchmove":"mousemove",j=function(a){this.container=document.createElement("div"),c(this.container,f),this.images=d.map(this.createImage.bind(this)),a.appendChild(this.container),this.container.addEventListener(g,this.startDrag.bind(this)),this.onDragHandler=this.onDrag.bind(this),this.stopDragHandler=this.stopDrag.bind(this),this.drawHandler=this.draw.bind(this),this.offset=0,this.last=0,this.index=0,this.width=this.container.offsetWidth},k=function(a){return a.preventDefault(),!1};j.prototype.createImage=function(a){var b=document.createElement("img");return c(b,e),this.container.appendChild(b),b.setAttribute("src",a),b.addEventListener("dragstart",k),b},j.prototype.startDrag=function(a){return this.startX="undefined"!=typeof a.screenX?a.screenX:a.targetTouches[0].screenX,this.startTime=new Date,document.addEventListener(i,this.onDragHandler),document.addEventListener(h,this.stopDragHandler),this.tick(),!1},j.prototype.stopDrag=function(){console.log("stopDrag"),document.removeEventListener(i,this.onDragHandler),document.removeEventListener(h,this.stopDragHandler),this.running=!1;var a=new Date-this.startTime,b=this.offset>=0?1:-1,c=this.index-b<0||this.index-b>=this.images.length;!c&&500>a&&Math.abs(this.offset)>10?(this.index-=b,this.last+=100*b,this.offset=0,this.resetFrame()):(this.offset=0,this.resetFrame())},j.prototype.onDrag=function(a){var b=a.screenX||a.targetTouches[0].screenX;this.offset=(b-this.startX)/this.width*100},j.prototype.tick=function(){this.running||(this.running=!0,requestAnimationFrame(this.drawHandler))},j.prototype.draw=function(){var a="translateX("+(this.last+this.offset)+"%) translateZ(0)";this.images.forEach(function(b){b.style.transform=a,b.style.webkitTransform=a}),this.running&&requestAnimationFrame(this.drawHandler)};var l=function(a){var b=a.target;b.style.transition="",b.style.webkitTransition="",b.removeEventListener("transitionend",l),b.removeEventListener("webkittransitionend",l)},m=function(){this.running=!1};j.prototype.resetFrame=function(){this.images.forEach(function(a){a.style.transition="all 300ms ease-out",a.style.webkitTransition="all 300ms ease-out",a.addEventListener("transitionend",l),a.addEventListener("webkittransitionend",l)}),this.tick(),requestAnimationFrame(m.bind(this))},a.AdUnit=j}(this);var adUnit=new AdUnit(document.body);console.log(adUnit);